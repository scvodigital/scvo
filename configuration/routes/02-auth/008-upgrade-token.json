{
  "name": "upgrade_token",
  "pattern": "/upgrade-token",
  "debug": true,
  "errorRoute": "five_hundred",
  "tasks": [
    {
      "name": "auth",
      "taskModule": "firebaseGetSession",
      "config": {
        "tokenPath": "request.params.query.token",
        "cookieName": "scvo_cookie",
        "cookieOptions": {
          "maxAge": 1209600000,
          "secure": true,
          "path": "/"
        },
        "appName": "scvo"
      }
    },
    {
      "name": "destination",
      "taskModule": "render",
      "renderer": "handlebars",
      "config": {
        "output": "body",
        "template": "{{{safeStringify @root.data.auth}}}",
        "parseJson": true
      }
    }
  ]
}